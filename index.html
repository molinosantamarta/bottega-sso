<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>SSO – UI chiara (bianco)</title>
  <style>
    :root{
      --bg:#ffffff;        /* base bianca */
      --fg:#0a0a0a;        /* testo principale */
      --muted:#f6f7f8;     /* superfici soft */
      --line:#e5e7eb;      /* bordi chiari */
      --text2:#4b5563;     /* testo secondario */
      --tap:#111;          /* feedback touch */
      --tabh:76px;         /* altezza tabbar */
      --radius:14px;       /* raggio angoli */
      --shadow:0 6px 20px rgba(0,0,0,.06);
    }
    html,body{height:100%;background:var(--bg)}
    body{margin:0;color:var(--fg);font-family:-apple-system,system-ui,Segoe UI,Roboto,sans-serif}

    main{min-height:100vh;padding:20px 16px calc(var(--tabh) + 24px)}

    /* Viste */
    [data-view]{display:none}
    [data-view].active{display:block}

    /* Pagina A: quattro riquadri vuoti (card light) */
    .grid{max-width:960px;margin:0 auto;display:grid;gap:14px}
    @media (min-width:760px){ .grid{grid-template-columns:1fr 1fr} }
    .box{
      min-height:140px;border:1px solid var(--line);border-radius:var(--radius);
      background:var(--muted);box-shadow:var(--shadow);
    }

    /* Pagina B: placeholder identico a prima ma light */
    .x-devbox{
      max-width:920px;margin:28px auto 0;padding:18px 20px;border-radius:var(--radius);
      background:var(--muted);color:var(--text2);border:1.5px dashed var(--line);
      font:15px/1.5 -apple-system,system-ui,Segoe UI,Roboto,sans-serif
    }

    /* TABBAR chiara, due metà cliccabili full-area */
    .tabbar{
      position:fixed;left:0;right:0;bottom:0;z-index:10;background:#fff;
      border-top:1px solid var(--line); padding:0 env(safe-area-inset-right) calc(env(safe-area-inset-bottom)) env(safe-area-inset-left);
    }
    .tabbar-inner{
      height:var(--tabh);max-width:980px;margin:0 auto;
      display:grid;grid-template-columns:1fr 1fr;align-items:center;
      gap:0;
    }
    .half{
      position:relative;display:flex;align-items:center;justify-content:center;gap:10px;
      cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;
      color:var(--text2);transition:transform .06s ease, background .15s ease, color .15s ease, box-shadow .15s ease;
    }
    .half.left{ border-right:1px solid var(--line); }
    .half.right{ border-left:1px solid var(--line); }

    /* Stato attivo: chip sollevato chiaro */
    .half[aria-selected="true"]{
      color:var(--fg);
      background:var(--muted);
      box-shadow:var(--shadow);
    }
    .half:active{ transform:scale(.98); }

    .lottie{width:28px;height:28px;display:block}
    .label{font:13px/1 -apple-system,system-ui,Segoe UI,Roboto,sans-serif}

    /* Accessibilità motione */
    @media (prefers-reduced-motion: reduce){
      .lottie{display:none}
    }
  </style>
</head>
<body>
  <main>
    <!-- Pagina A: SOLO i 4 riquadri vuoti -->
    <section id="view-a" data-view class="active">
      <div class="grid">
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
      </div>
    </section>

    <!-- Pagina B: invariata nel contenuto, resa light -->
    <section id="view-b" data-view>
      <div class="x-devbox">
        questa pagina è in fase di sviluppo, verrà rilasciata con la versione 10.0 dell'app nei prossimi aggiornamenti,
        tu non devi fare nulla, appena pronta la vedrai - Pepe.
      </div>
    </section>
  </main>

  <!-- TABBAR light -->
  <nav class="tabbar" aria-label="Navigazione pagine">
    <div class="tabbar-inner">
      <div class="half left"  data-tab="a" aria-selected="true">
        <div id="lottie-scan" class="lottie" aria-hidden="true"></div>
        <span class="label">Scanner</span>
      </div>
      <div class="half right" data-tab="b" aria-selected="false">
        <div id="lottie-cart" class="lottie" aria-hidden="true"></div>
        <span class="label">Stoccaggio</span>
      </div>
    </div>
  </nav>

  <!-- Lottie Web -->
  <script src="https://unpkg.com/lottie-web/build/player/lottie.min.js"></script>
  <script>
    // carico le animazioni usando i file presenti accanto all'HTML
    const scanAnim = lottie.loadAnimation({
      container: document.getElementById('lottie-scan'),
      renderer: 'svg', loop: true, autoplay: true,
      path: './scanner.lotties.json'
    });
    const cartAnim = lottie.loadAnimation({
      container: document.getElementById('lottie-cart'),
      renderer: 'svg', loop: true, autoplay: true,
      // supporta eventuale spazio nel nome file (GitHub Pages gestisce gli spazi) 
      path: encodeURI('./shopping cart.lotties.json')
    });

    const VIEWS = ['a','b'];
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));

    function setSpeeds(active){
      if(active==='a'){ scanAnim.setSpeed(1.15); cartAnim.setSpeed(0.75); }
      else{ scanAnim.setSpeed(0.75); cartAnim.setSpeed(1.15); }
    }

    function activate(view){
      if(!VIEWS.includes(view)) view='a';
      $('#view-a').classList.toggle('active', view==='a');
      $('#view-b').classList.toggle('active', view==='b');
      $$('.half').forEach(h => h.setAttribute('aria-selected', h.dataset.tab===view ? 'true' : 'false'));
      setSpeeds(view);
    }

    document.querySelector('.tabbar-inner').addEventListener('click', e=>{
      const half = e.target.closest('.half'); if(!half) return;
      const t = half.dataset.tab; history.replaceState(null,'','#'+t); activate(t);
    });

    function onHash(){ activate((location.hash||'#a').slice(1)); }
    window.addEventListener('hashchange', onHash);
    if(!location.hash) history.replaceState(null,'','#a');
    onHash();
  </script>
</body>
</html>

